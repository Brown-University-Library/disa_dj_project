{% extends "disa_app_templates/base.html" %}
{% load static %}
{% block header_other %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tabulator-tables@5/dist/css/tabulator_bootstrap5.min.css">
{% endblock header_other %}
{% block nav_options %}
<li class="nav-item"><button class="btn btn-outline-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvas" aria-controls="offcanvas">
        Info
    </button></li>
{% endblock nav_options %}

{% block content %}
<!-- insert offcanvas info -->
{% include "disa_app_templates/modals/info_aside.html" %}
<!-- Main panel -->
<!-- Add new source -->
<div class="col-sm-12 col-md-4">
    <div class="card text-center">
        <h1 class="card-header h2">
            <i class="fa-solid fa-square-plus"></i> Create a new source
        </h1>
        <div class="card-body">
            <p class="card-text">Please double-check that a source does not already exist before you start entering information!</p>
            <button type="button" class="btn btn-primary btn-lg" id="createNewSourceButton" title="Create a new source"><i class="fa-solid fa-square-plus"></i> Create a new source
            </button>
        </div>
    </div>
</div>
<div class="col-sm-12 col-md-8">
    <div class="card">
        <h2 class="card-header"><i class="fa-solid fa-pen-nib"></i> Find an existing source</h2>
        <div class="card-body row">
            <div class="col">
                <!-- Title filter field -->
                <div class="form-input">
                    <label for="title-filter" class="col-2 form-label">Title</label>
                    <input id="title-filter"></input>
                </div>
                <!-- Source ID filter field -->
                <div class="form-input">
                    <label for="id-filter" class="col-2 form-label">ID</label>
                    <input id="id-filter"></input>
                </div>
            </div>
            <div class="col">
                <!-- toggle all entries vs my entries -->
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="current-user-only">
                    <label class="form-check-label" for="current-user-only">
                        Show only your entries
                    </label>
                </div>
                <!-- Editor filter field -->
                <div class="form-input">
                    <label for="editor-filter" class="form-label col-2">Editor</label>
                    <input id="editor-filter"></input>
                </div>
                <button hidden class="btn btn-primary" id="table-details-toggle">Show all columns</button>
            </div>
        </div>
    </div>
</div>
</div>
<div id="all-sources"></div>
<!-- Delete confirmation modal -->
{% include "disa_app_templates/modals/confirm_deletion.html" %}
{% endblock content %}
{% block footer %}
{% endblock footer %}
{% block page_specific_js %}
<!-- Tabulator -->

<script>

    window.sr = {};
    window.sr.api_url_root = "{{ API_URL_ROOT }}";
    window.sr.csrf_token = "{{ csrf_token }}";

</script>
<script src="https://cdn.jsdelivr.net/npm/tabulator-tables@5/dist/js/tabulator.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2/moment.min.js"></script>
<script src="{% static 'js/redesign_citations.js' %}" type="module"></script>
{% endblock page_specific_js %}
